<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Loanday Template">
    <meta name="keywords" content="Loanday, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Loanday | Template</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&display=swap" rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="css/magnific-popup.css" type="text/css">
    <link rel="stylesheet" href="css/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">
</head>

<body>
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>

    <!-- Offcanvas Menu Begin -->
    <div class="offcanvas-menu-overlay"></div>
    <div class="offcanvas-menu-wrapper">
        <div class="offcanvas__search">
            <i class="fa fa-search search-switch"></i>
        </div>
        <div class="offcanvas__logo">
            <a href="./index.html"><img src="img/logo.png" alt=""></a>
        </div>
        <nav class="offcanvas__menu mobile-menu">
            <ul>
                <li class="active"><a href="../index.html">Back to Home</a></li>
            </ul>
        </nav>
        <div id="mobile-menu-wrap"></div>
        <ul class="offcanvas__widget">
            <li><i class="fa fa-map-marker"></i> Nigeria, Ghana, kenya, South Africa</li>
            <li><i class="fa fa-phone"></i> (+234) 8127-3169-34 </li>
            <li><i class="fa fa-envelope"></i> Info@emailProvider.com</li>
        </ul>
        <div class="offcanvas__language">
            <button onclick="connect()" class="btn">Login</button>
        </div>
    </div>
    <!-- Offcanvas Menu End -->

    <!-- Header Section Begin -->
    <header class="header">
        <div class="header__top">
            <div class="container">
                <div class="row">
                    <div class="col-lg-9">
                        <ul class="header__top__widget">
                            <li><i class="fa fa-map-marker"></i> Nigeria, Ghana, kenya, South Africa</li>
                            <li><i class="fa fa-phone"></i> (+234) 8127-3169-34 </li>
                            <li><i class="fa fa-envelope"></i> Info@emailProvider.com</li>
                        </ul>
                    </div>
                    <div class="col-lg-3">
                        <div class="header__top__language">
                            <button onclick="connect()" class="btn">Login</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="header__logo">
                        <a href="../index.html"><img src="img/logo.png" alt=""></a>
                    </div>
                </div>
                <div class="col-lg-9">
                    <div class="header__nav">
                        <nav class="header__menu">
                            <ul>
                                <li class="active"><a href="../index.html"> Back to Home</a></li>
                            </ul>
                        </nav>
                        <div class="header__search">
                            <i class="fa fa-search search-switch"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="canvas__open">
                <span class="fa fa-bars"></span>
            </div>
        </div>
    </header>
    <!-- Header Section End -->

    <!-- Hero Section Begin -->
    <section class="hero set-bg" data-setbg="img/hero-bg1.jpg">
        <div class="container">
            <div class="row">
                <div class="col-lg-5">
                    <div class="hero__text">
                        <h2>LETTER OF CREDIT (LC)</h2>
                        <p>Scale your business in minutes</p>
                        <button onclick="getaccess()" class="primary-btn">Generate Token Key</button>
                        <p id="accesscode"></p>
                    </div>
                </div>
                <div class="col-lg-5 offset-lg-2">
                    <div class="hero__form">
                        <h3>Tell Us About Your Business</h3>
                        <form action="#">
                            <div class="input-list">
                                <div class="input-list-item">
                                    <p>Name</p>
                                        <input type="text" id="nameInput">
                                </div>
                                <div class="input-list-item">
                                    <p>Phone Number</p>
                                    <input type="text" id="phoneInput">
                                </div>
                            </div>
                            <div class="input-full-width">
                                <p>Official Email</p>
                                <input type="text" id="emailInput">
                            </div>
                            <div class="input-list last">
                                <div class="input-list-item">
                                    <p>Company Website</p>
                                    <input type="text" id="websiteInput">
                                </div>
                                <div class="input-list-item">
                                    <p>Industry/Sector</p>
                                    <input type="text" id="industryInput">
                                </div>
                            </div>
                            <button onclick= "submitDetails()" type="submit" class="site-btn">Submit Details</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Hero Section End -->

    <!-- Contact Begin -->
    <div class="contact-widget set-bg" data-setbg="img/contact-widget.jpg">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-6">
                    <div class="row">
                        <div class="col-lg-6 col-md-6">
                            <div class="contact__widget__item">
                                <h4>New York Office</h4>
                                <p>917 Atlantic Lane, Strongsville, NY, United State</p>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6">
                            <div class="contact__widget__item">
                                <h4>New Jersey Office</h4>
                                <p>1 Walnut Court, East Orange, NJ, United State</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6">
                    <div class="contact__widget__phone">
                        <span>Contact Us Now!</span>
                        <h2>(+12) 345-678-910</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Contact End -->

    <!-- Footer Section Begin -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-6 col-sm-6">
                    <div class="footer__about">
                        <div class="footer__logo">
                            <a href="./index.html"><img src="img/footer-logo.png" alt=""></a>
                        </div>
                        <p>Please remember though that how far you go is up to you. There is no substitute for your own
                            work and effort in succeeding in this business.</p>
                    </div>
                </div>
                <div class="col-lg-2 offset-lg-1 col-md-3 col-sm-6">
                    <div class="footer__widget">
                        <h5>Services</h5>
                        <div class="footer__widget">
                            <ul>
                                <li><a href="#">Personal Loans</a></li>
                                <li><a href="#">Business Loans</a></li>
                                <li><a href="#">Online Cash Loans</a></li>
                                <li><a href="#">Cash Advance</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6">
                    <div class="footer__widget">
                        <h5>Socials</h5>
                        <div class="footer__widget footer__widget--social">
                            <ul>
                                <li><a href="#"><i class="fa fa-facebook"></i> Facebook</a></li>
                                <li><a href="#"><i class="fa fa-instagram"></i> Instagram</a></li>
                                <li><a href="#"><i class="fa fa-twitter"></i> Twitter</a></li>
                                <li><a href="#"><i class="fa fa-skype"></i> Skype</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 offset-lg-1 col-md-6 col-sm-6">
                    <div class="footer__widget footer__widget--address">
                        <h5>Open Hours</h5>
                        <p>We work all days a week, Please contact us for any inquiry.</p>
                        <ul>
                            <li>Monday - Friday: 11:00 am - 8:00 pm</li>
                            <li>Saturday: 10:00 am - 6:00 pm</li>
                            <li>Sunday: 11:00 am - 6:00 pm</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer__copyright">
                <div class="row">
                    <div class="col-lg-6 col-md-6">
                        <ul class="footer__copyright__links">
                            <li><a href="#">Terms of use</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                            <li><a href="#">Community</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-6 col-md-6">
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        <div class="footer__copyright__text">
                            <p>Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a></p>
                        </div>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer Section End -->

    <!-- Search Begin -->
    <div class="search-model">
        <div class="h-100 d-flex align-items-center justify-content-center">
            <div class="search-close-switch">+</div>
            <form class="search-model-form">
                <input type="text" id="search-input" placeholder="Search here.....">
            </form>
        </div>
    </div>
    <!-- Search End -->

    <!-- Js Plugins -->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/jquery.nicescroll.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/jquery.slicknav.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/main.js"></script>
    <script charset="utf-8" src="https://cdn.ethers.io/scripts/ethers-v4.min.js" type="text/javascript"></script>
 
 <script>
     // SPDX-License-Identifier: MIT
pragma solidity ^0.8.18;

contract callBack {

    struct request_formInfo {
        string Name;
        string Email;
        uint phoneNumber;
        string service;
    }

    mapping(address => request_formInfo[]) requestCall_logs;
    
    request_formInfo req;
    
    function submittForm(string calldata _Name,
                        string calldata _Email,
                        uint _phoneNumber,
                        string calldata _service) public returns  (string memory) {
                                req.Name = _Name; 
                                req.phoneNumber = _phoneNumber; 
                                req.Email = _Email;
                                req.service = _service;

                                requestCall_logs[msg.sender].push(req);
                                return ("Thank you");
                        }

}

 </script>

 <script>

var RequestFormContractAdd = "0xAA9e70Cd48039851d1Fa91FBf8A0412F69c7282f";
var RequestFormContractABI = [
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "_Name",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "_Email",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "_phoneNumber",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "_service",
				"type": "string"
			}
		],
		"name": "submittForm",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	}
]
	

 </script>
 
 <script>
    // SPDX-License-Identifier: GPL-3.0
pragma solidity = 0.8.1;

contract TradeFinance{
    address owner;

    struct companyInfo {
        string Name;
        uint phoneNumber;
        string companyEmail;
        string website;
        string industry;
    }
    constructor(){
        owner = msg.sender;     
    }

    mapping(address => companyInfo[]) UserDetails;


    function submitDetails (string memory _Name,
                            uint _phoneNumber,
                            string memory _companyEmail,
                            string memory _website,
                            string memory _industry) public {
                                companyInfo memory com;

                                com.Name = _Name; 
                                com.phoneNumber = _phoneNumber; 
                                com.companyEmail = _companyEmail;
                                com.website = _website;
                                com.industry = _industry;

                                UserDetails[msg.sender].push(com);
                            }
}
 </script>
 
 <script>
///ensure ethereum is enabled/connect wallet

function connect() {
    window.ethereum.enable();
}
</script>

<script>

var TradeFinanceContractAdd = "0x26166733547046AAE6fcF38350f6aa17e69Fee40";
var TradeFinanceContractABI = [
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "_Name",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "_phoneNumber",
				"type": "uint256"
			},
			{
				"internalType": "string",
				"name": "_companyEmail",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "_website",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "_industry",
				"type": "string"
			}
		],
		"name": "submitDetails",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"stateMutability": "nonpayable",
		"type": "constructor"
	}
]
	
var TradeFinanceContract;
var RequestFormContract;
var signer;

//define an ethers provider. In our case it is Ropsten:
var provider = new ethers.providers.Web3Provider(web3.currentProvider,'kovan');

 // Connect the signer to your wallet account and define the contract object using your contract address, ABI, and signer.

 provider.listAccounts().then(function(accounts) {
      signer = provider.getSigner(accounts[0]);
      TradeFinanceContract = new ethers.Contract(TradeFinanceContractAdd, TradeFinanceContractABI, signer);
      RequestFormContract = new ethers.Contract(RequestFormContractAdd, RequestFormContractABI, signer);
    })

//Verify if wallet is connected

window.onload = (event) =>{
    isConnected();
};

async function isConnected(){
    const accounts = await window.ethereum.request({method: "eth_accounts"})
    if (accounts.length){
        console.log("wallect connected");
    } else{
        setTimeout(function(){alert ("connect wallet, click on 'Login'")}, 2000);
    }
}

// Calling smart contract(s)

async function submitDetails(){
    let name = document.getElementById("nameInput").value;
    let phoneNumber = document.getElementById("phoneInput").value;
    let companyEmail = document.getElementById("emailInput").value;
    let website = document.getElementById("websiteInput").value;
    let industry = document.getElementById("industryInput").value;

   const accounts = await ethereum.request({method: "eth_accounts"})
    if (accounts.length){
        if (name.length != 0 && phoneNumber.length != 0 && companyEmail.length != 0 && website.length != 0 && industry.length != 0){
        TradeFinanceContract.submitDetails(name,phoneNumber, companyEmail, website, industry);
        setTimeout(function(){alert("Thank you")}, 500);
    } else{
        alert("Fill out the form correctly");
    }
    } else{
        setTimeout(function(){alert ("Connect your wallet, click on 'Login'")}, 500);
    }
}
    async function submittForm(){
        let name = document.getElementById("requestForm_nameInput").value;
        let phoneNumber = document.getElementById("requestForm_phoneInput").value;
        let email = document.getElementById("requestForm_emailInput").value;
        let service = document.getElementById("requestForm_serviceInput").value;

        const accounts = await ethereum.request({method: "eth_accounts"})
            if (accounts.length){
                if (name.length != 0 && phoneNumber.length != 0 && Email.length != 0 && service.length != 0 && industry.length != 0){
                    RequestFormContract.submitDetails(name,email,phoneNumber, service);
                    setTimeout(function(){alert("Thank you")}, 500);
            } else{
                    alert("Fill out the form correctly");
            }
            } else{
                    setTimeout(function(){alert ("Connect your wallet, click on 'Login'")}, 500);
            }
    }
 </script>

 <script>
     function getaccess(){
        document.getElementById("accesscode").innerHTML = Math.random();
     }
 </script>
</body>

</html>